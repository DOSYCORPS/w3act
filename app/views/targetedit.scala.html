@(target: Target, user: User)


@main("", user){
    
    <h1>Edit Target @target.title</h1>  
    <div class="targettabs">   
		<ul class="nav nav-tabs">
		   <li><a href="@routes.TargetEdit.view(target.url)" class="navbar-brand btn btn-success">View</a></li>
		   <li class="active"><a href="@routes.TargetEdit.edit(target.url)" class="navbar-brand btn btn-success">Edit</a></li> 
		</ul>
	</div>
    
    <article class="targetdetails">
      <div class="panel panel-default" id="forms">
       <div class="panel-heading">
        <!--h3 class="panel-title">Basic Information</h3-->
       </div>      
       <div class="panel-body">
        <form action="@routes.TargetController.saveTarget()" method="POST">
          <fieldset>
          	<input type="hidden" name="nid" value="@target.nid">
          	<input type="hidden" name="user" value="@user.url">
            
			<div class="bs-example bs-example-tabs">
		      <ul id="myTab" class="nav nav-tabs">
		        <li class="active"><a href="#basicinformation" data-toggle="tab">Basic information</a></li>
		        <li class=""><a href="#metadata" data-toggle="tab">Metadata</a></li>
		        @if(Target.isInScope(target.field_url, target.url)) {
			        <li class=""><a href="#crawlpermission" data-toggle="tab">Crawl permission <font color="green">(+)</font></a></li>
			    } else {
			        <li class=""><a href="#crawlpermission" data-toggle="tab">Crawl permission <font color="red">(-)</font></a></li>
			    }		        
		        <li class=""><a href="#crawlpolicy" data-toggle="tab">Crawl policy</a></li>
		      </ul>
		       <div id="myTabContent" class="tab-content">
			        <div class="tab-pane fade active in" id="basicinformation">
			            <div class="form-group">
			              <label for="inputTitle">Title <font color="red">*</font></label>
			              <input class="form-control" name="title" id="inputTitle" placeholder="My title" type="text" value="@target.title">
			            </div>
			            <div class="form-group">
			              <label for="inputUrls">URL(s) <font color="red">*</font></label>
			              @if(target.field_url != null) {
			              <input class="form-control" name="fieldurl" id="fieldurl" placeholder="url1, url2" type="text" value="@target.field_url">
			              } else {
			              <input class="form-control" name="fieldurl" id="fieldurl" placeholder="url1, url2" type="text" value="@target.title">
			              }
			              <p>One or more URLs, separated by comma.<p>
			              <!--button type="item" class="btn btn-success">Add another item</button-->
			            </div>
			            <div class="container">
						   <div class="row">
				                <label>QA Status</label><br>
						  		<label class="radio-inline">
						  		@if(target.status == 1) {
						          <input name="status" id="radio1" value="N/A" type="radio" checked="true"> N/A
						        } else {
						          <input name="status" id="radio1" value="N/A" type="radio"> N/A
						        }
						        </label>
						        <label class="radio-inline">
						  		@if(target.status == 2) {
						          <input name="status" id="radio2" value="No QA issues found" type="radio" checked="true"> No QA issues found
						        } else {
						          <input name="status" id="radio2" value="No QA issues found" type="radio"> No QA issues found
						        }
						        </label>
						        <label class="radio-inline">
						  		@if(target.status == 3) {
						          <input name="status" id="radio3" value="QA issue" type="radio" checked="true"> QA issue
						        } else {
						          <input name="status" id="radio3" value="QA issue" type="radio"> QA issue
						        }
						        </label>			      
						  	</div>
						</div>
			            <div class="container">
						   <div class="row">
				                <br><label>Live Site Status</label><br>
						  		<label class="radio-inline">
						  		@if(target.field_live_site_status != null && target.field_live_site_status.equals("N/A")) {
						          <input name="livesitestatus" id="radio1" value="N/A" type="radio" checked="true"> N/A
						        } else {
						          <input name="livesitestatus" id="radio1" value="N/A" type="radio"> N/A
						        }
						        </label>
						        <label class="radio-inline">
						  		@if(target.field_live_site_status != null && target.field_live_site_status.equals("Still live")) {
						          <input name="livesitestatus" id="radio2" value="Still live" type="radio" checked="true"> Still live 
						        } else {
						          <input name="livesitestatus" id="radio2" value="Still live" type="radio"> Still live 
						        }
						        </label>
						        <label class="radio-inline">
						  		@if(target.field_live_site_status != null && target.field_live_site_status.equals("No longer updated")) {
						          <input name="livesitestatus" id="radio3" value="No longer updated" type="radio" checked="true"> No longer updated 
						        } else {
						          <input name="livesitestatus" id="radio3" value="No longer updated" type="radio"> No longer updated 
						        }
						        </label>			      
						        <label class="radio-inline">
						  		@if(target.field_live_site_status != null && target.field_live_site_status.equals("Vanished")) {
						          <input name="livesitestatus" id="radio4" value="Vanished" type="radio" checked="true"> Vanished
						        } else {
						          <input name="livesitestatus" id="radio4" value="Vanished" type="radio"> Vanished
						        }
						        </label>			      
						  	</div>
						  	<br>If know, please add the current status of the site.
					  	</div>		
					  	<div class="checkbox">
			              <label>
			                @if(target.field_key_site != null && target.field_key_site.equals("true")) {             
			                <input type="checkbox" name="keysite" value="true" checked=1>Key Site</label>
			                } else {
			                <input type="checkbox" name="keysite" value="true">Key Site</label>
			                }
			                <br>
			                Is this a 'key site', i.e. one of such significance that it requires higher levels of QA and archival management. 
			            </div>
			            <div class="form-group">
			              <label for="inputWCT">WCT ID</label>
			              <input name="wct" class="form-control" id="inputWCT" placeholder="0" type="text" readonly value="@target.field_wct_id">
			              <label for="inputSPT">SPT ID</label>
			              <input name="spt" class="form-control" id="inputSPT" placeholder="0" type="text" readonly value="@target.field_spt_id">
			            </div> 
		  				<!-- div class="form-group">
			               <label for="notes">Notes</label>
			               <textarea name="field_notes" class="text-full form-textarea" name="field_notes" id="inputNotes" cols="100" rows="1" value="@target.field_notes">@target.field_notes</textarea>
						   <div class="description">Add any additional notes about this site here.</div>							                        								
						</div-->		            		                 				  						  
			        </div>
			        <div class="tab-pane fade" id="metadata">
			            <div class="form-group">
				             <div class="container">
					              <label for="inputDescription">Description</label><br>
					              <textarea name="description" id="inputDescription" cols="100" rows="3" value="@target.field_description">@target.field_description</textarea>
					              <br>A description of this web site.
				                  <!-- br><label>Subject</label><br>
								  <select name="subject" value="12" id="mySel">
						                <option>- None -</option>
						                @if(target.field_subject !=null && target.field_subject.equals("Arts &amp; Humanities")) {
							                <option value="10" selected>Arts &amp; Humanities</option>
							            } else {
							                <option value="10">Arts &amp; Humanities</option>
							            }
						                @if(target.field_subject !=null && target.field_subject.equals("Business, Economy &amp; Industry")) {
						                	<option value="11" selected>Business, Economy &amp; Industry</option>
							            } else {
						                	<option value="11">Business, Economy &amp; Industry</option>
							            }
						                @if(target.field_subject !=null && target.field_subject.equals("Education &amp; Research")) {
						                	<option value="12" selected>Education &amp; Research</option>
							            } else {
						                	<option value="12">Education &amp; Research</option>
							            }
						                <option value="13">Government, Law &amp; Politics</option>
						                <option value="14">Medicine &amp; Health</option>
						                <option value="15">Science &amp; Technology</option>
						                <option value="16">Society &amp; Culture</option>
								  </select-->
							</div>
				            <div class="container">
				                  <br><label>Subject</label><br>
								  <select name="subject" value="@target.field_subject">
						                <option>- None -</option>
						                @for(subject <- Taxonomy.findListByType("subject")) {
						             		@if(subject.name.equals(target.field_subject)) {
								                <option selected>@subject.name</option>
								            } else {						                
						                		<option>@subject.name</option>
						                	}
						                }
								  </select>
								  <br>
								  <h5>Special collections that you think this web site should appear in.</h5>				  
							</div>
				            <div class="container">
				                  <br><label>Suggested Collections</label><br>
								  <select id="mySel">
						                <option>- None -</option>
						                @for(collection <- DCollection.findAll()) {
						                <option>@collection.title</option>
						                }
								  </select>
								  <br>
								  <h5>Special collections that you think this web site should appear in.</h5>				  
							</div>
				             <div class="container">
				                  <label>Nominating Organisation</label><br>
								  <select name="organisation" id="mySel">
						                <option>- None -</option>
						                @for(organisation <- Organisation.findAll()) {
							                @if(organisation.title.equals(Organisation.findByUrl(target.field_nominating_organisation).title)) {
								                <option selected>@organisation.title</option>
								            } else {
								                <option>@organisation.title</option>
											}					            
						                }
								  </select>
								  <br>
								  <h5>The organisation that nominated this web site. Used to track down further information if the original user cannot be contacted.</h5>				  
							</div>
			            </div>                        
			        </div>
			        <div class="tab-pane fade" id="crawlpermission">
			            <div class="form-group">
							<label for="edit-field-license-und">License</label>
			                <div>
							<select multiple="multiple" name="license" id="edit-field-license" class="form-select" size="2">
							 	<option value="_none">- None -</option>
							    @for(taxonomy <- Targets.getLicense()) {
							 	<option>@taxonomy.name</option>
							    }	
							</select>
							<button type="submit" class="btn btn-success">Open License Request</button>
							</div>
							<div class="description">The license terms under which this site should be archived and made available.</div>
							<label>Legal Deposit Criteria</label>
							<div class="fieldset-wrapper">
				 				<input type="checkbox" id="edit-field-uk-hosting" name="field_uk_hosting" value="1" class="form-checkbox" />  
				 				<label class="option" for="edit-field-uk-hosting-und">UK Hosting </label>
				 			</div>
							<div class="description">The domain is hosted in the UK.</div>
							<div class="form-item form-type-checkbox form-item-field-uk-postal-address">
				 				<input type="checkbox" id="edit-field-uk-postal-address" name="field_uk_postal_address" value="1" value="@target.field_uk_postal_address"/>  
				 				<label class="option" for="edit-field-uk-postal-address-und">UK Postal Address </label>
				 			</div>
							<div class="description">The 'about us' or other contact page contains a UK address for a significant part of the organisation (e.g. it is not just a PO box).</div>
							<div>
				  				<label for="edit-field-uk-postal-address-url-und-0">Postal Address URL </label>
				 				<div>
				  				<label class="element-invisible" for="edit-field-uk-postal-address-url-und-0-url">URL </label>
				 				<input type="text" name="field_uk_postal_address_url" value="" size="60" maxlength="2048" class="form-text" />
								</div>
								<div class="description">The URL on the site that contains the postal address used to determine that the site is in the UK.</div>
							</div>
							<div>
				 				<input type="checkbox" name="field_via_correspondence" value="1" class="form-checkbox" value="@target.field_via_correspondence"/>  
				 				<label class="option" for="edit-field-via-correspondence-und">Via Correspondence </label>
								<div class="description">Previous correspondence with the web site owner by a Curator contains evidence of a UK address.</div>
							</div>
							<div>
				  				<label>Notes</label>
					 			<div class="form-textarea-wrapper resizable">
					 				<textarea name="field_notes" cols="100" rows="1"></textarea>
								</div>
								<div class="description">Any relevant notes, e.g. a more detailed description of this URL or set of URLs.</div>
							</div>
							<div>
				 				<input type="checkbox" name="field_professional_judgement" value="1" class="form-checkbox" value="@target.field_professional_judgement"/>  
				 				<label class="option" for="edit-field-professional-judgement-und">Professional Judgement </label>
								<div class="description">In your professional judgement, does this site qualify as a UK Publication under the terms of the Legal Deposit Legislation. Please provide details of evidence used in the box below.</div>
							</div>
							<div>
				  				<label>Professional Judgement Explanation</label>
				 				<div class="form-textarea-wrapper resizable">
				 					<textarea name="field_professional_judgement_exp" cols="100" rows="1" value="@target.field_professional_judgement_exp"></textarea>
				 				</div>
								<div class="description">Please describe the rational behind this decision, indicating any evidence used.</div>
							</div>
							<!-- div>
				 				<input type="checkbox" name="field_special_dispensation" value="1" class="form-checkbox" />  
				 				<label class="option" for="edit-field-special-dispensation-und">Special Dispensation </label>
								<div class="description">Tick this box to indicate that, although it falls under none of the other categories, special dispensation has been given to download this URL. Currently, this is allowed under limited circumstances in order to explore the process around archiving social media relating to UK organisations and individuals. </div>
							</div>
							<div>
							    <label for="edit-field-special-dispensation-reaso-und-0-value">Special Dispensation Reason </label>
					 			<div class="form-textarea-wrapper resizable">
					 				<textarea name="field_special_dispensation_reaso" cols="100" rows="1"></textarea></div>
								<div class="description">If you have selected Special Dispensation as the reason, you must use this field to provide details of who has authorised this decision and why.</div>
							</div-->
							<div>
				 				<input type="checkbox" name="field_no_ld_criteria_met" value="1" class="form-checkbox" value="@target.field_no_ld_criteria_met"/>  
				 				<label class="option" for="edit-field-no-ld-criteria-met-und">No LD Criteria Met </label>
								<div class="description">Use this to indicate that no LD criteria apply, and so this site cannot be archived under Legal Deposit.</div>
							</div>      			            
				        </div>
			        </div>
			        <div class="tab-pane fade" id="crawlpolicy">
			            <div class="form-group">
					         <div class="container">
					         	<div class="row">
								  <label>Scope<font color="red">*</font></label><br>								  
								  <select id="mySel">
						                <option value="resource">Just this URL.</option>
						                <option value="plus1">This URL plus any directly linked resources.</option>
						                <option value="root" selected="selected">All URLs that start like this.</option>
						                <option value="subdomains">All URLs that match match this host or any subdomains.</option>
								  </select>
								  <br>
								  <h5>Select the scope of the crawl around this URL. In general, when nominating a site for crawling, you should specify the homepage and say 'All URLs that start like this'. If you wish to include all subdomains (e.g. example.co.uk but also anything like www.example.co.uk, images.example.co.uk, etc.) then select the 'any subdomains' option.</h5>				  
							  	</div>
							  </div>
				              <div class="container">
								<div class="row">
								    <label>Depth<font color="red">*</font></label><br>								  
							  		<label class="radio-inline">
							          <input name="radioGroup" id="radio1" value="Capped (small - 500MB)" type="radio"> Capped (small - 500MB) 
							        </label>
							        <label class="radio-inline">
							          <input name="radioGroup" id="radio2" value="Capped (large - 2GB)" type="radio"> Capped (large - 2GB)
							        </label>
							        <label class="radio-inline">
							          <input name="radioGroup" id="radio3" value="Uncapped" type="radio"> Uncapped
							        </label>			      
							  	</div>
							  </div>
					            <div class="checkbox">
					              <label><input name="field_ignore_robots_txt" type="checkbox" value="@target.field_ignore_robots_txt">Ignore Robots.txt</label>
					            </div>
					            <p>Should we ignore Robots.txt while crawling this site? Note that although this may lead to us exploring more crawler traps, this does not present much of a problem to our crawling systems.</p>
				 				<label for="edit-field-crawl-frequency-und">Crawl Frequency <span class="form-required" title="This field is required."><font color="red">*</font></span></label><br>
				 				<select id="edit-field-crawl-frequency-und" name="field_crawl_frequency" class="form-select required">
				 					<option value="domaincrawl" selected="selected">Domain Crawl Only</option>
				 					<option value="annual">Annually</option>
				 					<option value="sixmonthly">Six-monthly</option>
				 					<option value="quarterly">Quarterly</option>
				 					<option value="monthly">Monthly</option>
				 					<option value="Monthly">Old-Monthly-DO-NOT-USE</option>
				 					<option value="weekly">Weekly</option>
				 					<option value="daily">Daily</option>
				 				</select>
								<div class="description">How often should this site be archived?</div>
					        </div>    
				              <div class="container">
				 				<div class="row">
				  					<label class="element-invisible">Start date</label>
				 					<input type="text" name="created" value="@target.created" size="30" maxlength="2048" class="form-text" />
				  					<label class="element-invisible">End date</label>
				 					<input type="text" name="changed" value="@target.changed" size="30" maxlength="2048" class="form-text" />
								</div>
							  </div>
				              <div class="container">
				 				<div class="row">
				  					<label class="element-invisible">White list</label>
				 					<input type="text" name="white_list" value="@target.white_list" size="30" maxlength="2048" class="form-text" />
				  					<label class="element-invisible">Black list</label>
				 					<input type="text" name="black_list" value="@target.black_list" size="30" maxlength="2048" class="form-text" />
								</div>
							  </div>
				        </div>
			        </div>
            </div>
	        <div id="revisionArea" class="revision">
  				<div class="form-group">
  			       <hr>
	               <label for="inputBody">Revision log message</label>
	               <textarea class="text-full form-textarea" name="revision" id="inputRevision" cols="100" rows="1"></textarea>
        		   <br>Provide an explanation of the changes you are making. This will help other authors understand your motivations. 
				</div>
			</div>
	        
            <button type="save" class="btn btn-primary" id="edit-save" name="save">Save</button>
            <!--button type="preview" class="btn btn-primary" name="preview">Preview</button-->
            <button type="delete" class="btn btn-primary" name="delete">Delete</button>
          </fieldset>
        </form>
       </div>
      </div>
    </article>
    
    
}

