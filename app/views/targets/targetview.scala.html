@(target: Target, user: User)

@main("", user) {
   	<div class="page-header">
	    <h1>@target.title</h1>
	</div>
	
	<ul class="nav nav-tabs">
	   <li class="active"><a href="@routes.TargetEdit.view(target.url)">View</a></li>
	   <li><a href="@routes.TargetEdit.edit(target.url)">Edit</a></li> 
	</ul>
	
	<div class="tab-content padding-20">
		<input type="hidden" name="nid" value="@target.nid">
        <input type="hidden" name="user" value="@user.url">
           
		<ul class="nav nav-pills">
        	<li class="active"><a href="#basicinformation" data-toggle="tab">Overview</a></li>
        	<li class=""><a href="#metadata" data-toggle="tab">Metadata</a></li>
        		@if(Target.isInScope(target.field_url, target.url)) {
	        		<li class=""><a href="#crawlpermission" data-toggle="tab">NPLD scope <font color="green">(+)</font></a></li>
	    		} else {
	        		<li class=""><a href="#crawlpermission" data-toggle="tab">NPLD scope <font color="red">(-)</font></a></li>
	    		}		        
        	<li class=""><a href="#crawlpolicy" data-toggle="tab">Crawl policy and Schedule</a></li>
		    <li class=""><a href="#licensing" data-toggle="tab">UKWA Licensing</a></li>
      	</ul>
	</div>
	
	<div id="myTabContent" class="tab-content">
		<div class="tab-pane padding-20 fade active in" id="basicinformation">
			<dl class="dl-horizontal">
				<dt>Title:</dt>
				<dd>@target.title</dd>
				<dt>ID:</dt>
				<dd>@target.nid</dd>
				<dt>Seed URL(s):</dt>
				<dd>@target.field_url</dd>
				<dt>UK Hosting:</dt>
				@if(Target.isInScope(target.field_url, target.url)) {
				<dd><font color="green">true</font></dd>
          		} else {
				<dd><font color="red">false</font></dd>
          		}
				<dt>QA Status:</dt>
				<dd>@target.status</dd>
				<dt>Live Site Status:</dt>
				<dd>@target.field_live_site_status</dd>
				<dt>Key Site:</dt>
				<dd>@target.field_key_site</dd>
				<dt>WCT ID:</dt>
				<dd>@target.field_wct_id</dd>
				<dt>SPT ID:</dt>
				<dd>@target.field_spt_id</dd>
				<dt>Keywords:</dt>
				<dd>@target.keywords</dd>
				<dt>Synonyms:</dt>
				<dd>@target.synonyms&nbsp;</dd>
			</dl>
		</div>
		
		<div class="tab-pane fade padding-20" id="metadata">
			<dl class="dl-horizontal">
				<dt>Description:</dt>
				@if(target.field_description != null && target.field_description.length() > 0) {
				<dd>@target.field_description</dd>
				} else {
				<dd>none</dd>
				}
				<dt>Subjects:</dt>
				<dd>@Taxonomy.findNamesByUrls(target.field_subject)</dd>
				<dt>Suggested Collections:</dt>
				<dd>@DCollection.findTitlesByUrls(target.field_suggested_collections)</dd>
				<dt>Nominating Organisation:</dt>
				<dd>@Organisation.findByUrl(target.field_nominating_organisation).title</dd>
				<dt>User:</dt>
				<dd>@User.findByUrl(target.author).name&nbsp;</dd>
			</dl>
		</div>
	
		<div class="tab-pane fade" id="crawlpermission">
    		<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Legal Deposit Criteria</label>
					</div>
				</div>
	     	</div>
    	
    		<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">UK Hosting <small class="text-center">(The domain is hosted in the UK)</small></label>
					    <div class="col-sm-6">
			                @if(target.field_uk_hosting != null && target.field_uk_hosting) {             
				                <input type="checkbox" name="field_uk_hosting" value="true" checked disabled/>
			                } else {
				                <input type="checkbox" name="field_uk_hosting" value="true" disabled/>
			                }
						</div>
					</div>
				</div>
	     	</div>

    		<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">UK Postal Address <small class="text-center">(The 'about us' or other contact page contains a UK address for a significant part of the organisation (e.g. it is not just a PO box))</small></label>
					    <div class="col-sm-6">
			                @if(target.field_uk_postal_address != null && target.field_uk_postal_address) {             
				                <input type="checkbox" name="field_uk_postal_address" value="true" checked disabled/>
			                } else {
				                <input type="checkbox" name="field_uk_postal_address" value="true" disabled/>
			                }
						</div>
					</div>
				</div>
	     	</div>		     				     	

    		<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Postal Address URL <small class="text-center">(The URL on the site that contains the postal address used to determine that the site is in the UK)</small></label>
					    <div class="col-sm-6">
	 						<input type="text" name="field_uk_postal_address_url" value="@target.field_uk_postal_address_url" size="60" maxlength="2048" class="form-control"  readonly/>
						</div>
					</div>
				</div>
	     	</div>
	     	
			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Via Correspondence <small class="text-center">(Previous correspondence with the web site owner by a Curator contains evidence of a UK address)</small></label>
					    <div class="col-sm-6">
			                @if(target.field_via_correspondence != null && target.field_via_correspondence) {             
				                <input type="checkbox" name="field_via_correspondence" value="true" checked disabled/>
			                } else {
				                <input type="checkbox" name="field_via_correspondence" value="true" disabled/>
			                }
						</div>
					</div>
				</div>
	     	</div>		

			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Notes <small class="text-center">(Any relevant notes, e.g. a more detailed description of this URL or set of URLs)</small></label>
					    <div class="col-sm-6">
	 						<textarea name="field_notes" cols="100" rows="1" class="form-control" readonly>@target.field_notes</textarea>
						</div>
					</div>
				</div>
	     	</div>	

			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Professional Judgement <small class="text-center">(In your professional judgement, does this site qualify as a UK Publication under the terms of the Legal Deposit Legislation. Please provide details of evidence used in the box below)</small></label>
					    <div class="col-sm-6">
			                @if(target.field_professional_judgement != null && target.field_professional_judgement) {             
				                <input type="checkbox" name="field_professional_judgement" value="true" checked disabled/>
			                } else {
				                <input type="checkbox" name="field_professional_judgement" value="true" disabled/>
			                }
						</div>
					</div>
				</div>
	     	</div>	
	     	
			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Professional Judgement Explanation <small class="text-center">(Please describe the rational behind this decision, indicating any evidence used)</small></label>
					    <div class="col-sm-6">
		 					<textarea name="field_professional_judgement_exp" cols="100" rows="1" class="form-control" readonly>@target.field_professional_judgement_exp</textarea>
						</div>
					</div>
				</div>
	     	</div>	

			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">No LD Criteria Met <small class="text-center">(Use this to indicate that no LD criteria apply, and so this site cannot be archived under Legal Deposit)</small></label>
					    <div class="col-sm-6">
			                @if(target.field_no_ld_criteria_met != null && target.field_no_ld_criteria_met) {             
				                <input type="checkbox" name="field_no_ld_criteria_met" value="true" checked disabled/>
			                } else {
			                	<input type="checkbox" name="field_no_ld_criteria_met" value="true" disabled/>
			                }
                		</div>
					</div>
				</div>
	     	</div>	
        </div>
        
        <div class="tab-pane fade" id="crawlpolicy">

			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Scope<font color="red">*</font> <small class="text-center">(Select the scope of the crawl around this URL. In general, when nominating a site for crawling, you should specify the homepage and say 'All URLs that start like this'. If you wish to include all subdomains (e.g. example.co.uk but also anything like www.example.co.uk, images.example.co.uk, etc.) then select the 'any subdomains' option)</small></label>
					    <div class="col-sm-6">
	 						<input type="text" name="field_scope" value="@target.field_scope" size="60" maxlength="2048" class="form-control" readonly/>
						</div>
					</div>
				</div>
	     	</div>
	     	
			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Depth<font color="red">*</font> <small class="text-center">(Use this to indicate that no LD criteria apply, and so this site cannot be archived under Legal Deposit)</small></label>
					    <div class="col-sm-6">
	 						<input type="text" name="field_depth" value="@target.field_depth" size="60" maxlength="2048" class="form-control" readonly/>
						</div>
					</div>
				</div>
	     	</div>	

			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Ignore Robots.txt <small class="text-center">(Should we ignore Robots.txt while crawling this site? Note that although this may lead to us exploring more crawler traps, this does not present much of a problem to our crawling systems)</small></label>
					    <div class="col-sm-6">
			                @if(target.field_ignore_robots_txt != null && target.field_ignore_robots_txt) {             
				                <input type="checkbox" name="field_ignore_robots_txt" value="true" checked disabled/>
			                } else {
				                <input type="checkbox" name="field_ignore_robots_txt" value="true" disabled/>
			                }
                		</div>
					</div>
				</div>
	     	</div>	
	     	
			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Crawl Frequency<span class="form-required" title="This field is required."><font color="red">*</font></span> <small class="text-center">(How often should this site be archived?)</small></label>
					    <div class="col-sm-6">
	 						<input type="text" name="field_crawl_frequency" value="@target.field_crawl_frequency" size="60" maxlength="2048" class="form-control" readonly/>
						</div>
					</div>
				</div>
	     	</div>	
	     	
			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Start date</label>
					    <div class="col-sm-6">
	 						<input type="text" name="field_crawl_start_date" value="@target.field_crawl_start_date" size="30" maxlength="2048" class="form-control" id="start-date" readonly/>
                		</div>
					</div>
				</div>
	     	</div>	

			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">End date</label>
					    <div class="col-sm-6">
	 						<input type="text" name="field_crawl_end_date" value="@target.field_crawl_end_date" size="30" maxlength="2048" class="form-control" id="end-date" readonly/>
                		</div>
					</div>
				</div>
	     	</div>	

			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">White list</label>
					    <div class="col-sm-6">
	 						<input type="text" name="white_list" value="@target.white_list" size="30" maxlength="2048" class="form-control" readonly/>
                		</div>
					</div>
				</div>
	     	</div>	

			<div class="row padding-10">
	     		<div class="col-md-12 col-xs-12 col-sm-12">
					<div class="form-group">
						<label class="col-sm-6 control-label">Black list</label>
					    <div class="col-sm-6">
	 						<input type="text" name="black_list" value="@target.black_list" size="30" maxlength="2048" class="form-control" readonly/>
                		</div>
					</div>
				</div>
	     	</div>	
        </div>
	        
		<div class="tab-pane fade padding-20" id="licensing">
			<dl class="dl-horizontal">
				<dt>License:</dt>
				<dd>The license terms under which this site should be archived and made available.</dd>
			</dl>
		</div>
	</div>
	<hr>
	<div id="revisionArea" class="revision">
		<dl class="dl-horizontal">
			<dt>Revision log message:</dt>
			<dd>@target.revision</dd>
		</dl>
	</div>
		
	<div class="padding-20">
		<div class="panel-group" id="accordion">
			<div class="panel panel-primary" id="panels">
				<div class="panel-heading">
			    	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseInstances" style="color:#fff;">
			        	Target instances
					</a>
				</div>
				<div id="collapseInstances" class="panel-collapse collapse">
					<div class="panel-footer">
						<a class="brand" href="opera.bl.uk:/8080/wayback/*@target.field_url">In Legal Deposit Web Archive</a>
					</div>
				    <div class="panel-footer">
			        	<a class="brand" href="http://www.webarchive.org.uk/bluebox/search.jsf?url= http://@target.field_url">In Open UK Web Archive</a>
					</div>
					<div class="panel-footer">
						<a class="brand" href="http://www.webarchive.org.uk/mementos/search/@target.field_url">In other web archives</a>
					</div>
				    <div class="panel-footer">
			        	<a class="brand" href="@target.field_url">Live site</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="padding-20">
		<div class="panel-group" id="accordion">
			<div class="panel panel-primary" id="panels">
				<div class="panel-heading">
	  				<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseRevisions" style="color:#fff;">
	      				Target revisions
	      			</a>
	      		</div>
				<div id="collapseRevisions" class="panel-collapse collapse">
	       			@for(prevTarget <- Target.findRevisions(target.url)) {
	       			<div class="panel-footer">
	       				<a class="brand" href="@routes.TargetEdit.viewrevision(prevTarget.nid)">
	         				(@prevTarget.nid) &nbsp; @prevTarget.revision &nbsp; @prevTarget.lastUpdate</a>
	       			</div>
	       			}
	     		</div>
	    	</div>
		</div>
	</div>    
   		
}
