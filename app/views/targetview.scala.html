@(target: Target, user: User)


@main("", user){
    
    <h1>@target.title</h1>
	<div class="targettabs">    
		<ul class="nav nav-tabs">
		   <li class="active"><a href="@routes.TargetEdit.view(target.url)" class="navbar-brand btn btn-success">View</a></li>
		   <li><a href="@routes.TargetEdit.edit(target.url)" class="navbar-brand btn btn-success">Edit</a></li> 
		</ul>
	</div>
    
    <!-- article class="targetdetails">
          <div class="panel-group" id="accordion">
			  <div class="panel panel-primary" id="urls">
		          <div class="panel-heading">
		        	  <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseUrls" style="color:#fff;">
		        		  URLs
		        	  </a>
		          </div>
		          <div class="panel-body">
					  <div id="collapseUrls" class="panel-collapse collapse in">
				          <ul>
				          <li>@target.url</li>
				          <li>Crawl Status:</li>
				          <li>Snapshots:</li>
				          </ul>
				      </div>
			      </div>
		      </div>
	      </div>
		
          <div class="panel-group" id="accordion">
			  <div class="panel panel-primary" id="metadata">
			        <div class="panel-heading">
			        	  <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseMetadata" style="color:#fff;">
			        		  Metadata
			        	  </a>	       
			        </div>
		          <div class="panel-body">
				    <div id="collapseMetadata" class="panel-collapse collapse in">
				        <ul>
				        <li>Description:&nbsp;@target.field_description</li>
				        <li>Subject:</li>
				        <li>Nominating Organisation:&nbsp;
				        @if(target.field_nominating_organisation != null && Organisation.findByUrl(target.field_nominating_organisation).url != null 
			              	&& Organisation.findByUrl(target.field_nominating_organisation).title != null) {
			              	<a href="@routes.OrganisationEdit.view(Organisation.findByUrl(target.field_nominating_organisation).url)">
			              		@Organisation.findByUrl(target.field_nominating_organisation).title</a></li>
			              } else {
				          </li>
			              }		        
				        </ul>
			      </div>
			    </div>
		      </div>
	      </div>
		
          <div class="panel-group" id="accordion">
			  <div class="panel panel-primary" id="crawlpolicy">
		        <div class="panel-heading">
	        	  <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseCrawlPolicy" style="color:#fff;">
	        		  Crawl Policy
	        	  </a>	       
		        </div>
		        <div class="panel-body">
				    <div id="collapseCrawlPolicy" class="panel-collapse collapse in">
				        <ul>
				        <li>Depth: &nbsp; @target.field_depth</li>
				        <li>Scope: &nbsp; @target.field_scope</li>
				        <li>Crawl Frequency: &nbsp; @target.field_crawl_frequency</li>
				        </ul>
			        </div>
			    </div>
		      </div>
	      </div>
		
          <div class="panel-group" id="accordion">
			  <div class="panel panel-primary" id="crawlpermissions">
		        <div class="panel-heading">
	        	  <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseCrawlPermissions" style="color:#fff;">
			        Crawl Permissions
	        	  </a>	       
		        </div>
	            <div class="panel-body">
			      <div id="collapseCrawlPermissions" class="panel-collapse collapse in">
			        <ul>
			        <li>Crawl Permissions: &nbsp; @target.field_crawl_permission</li>
			        </ul>
			      </div>
			    </div>
		      </div>
	      </div>
		
          <div class="panel-group" id="accordion">
			  <div class="panel panel-primary" id="legaldepositcriteria">
		        <div class="panel-heading">
	        	  <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseDepositCriteria" style="color:#fff;">
			        Legal Deposit Criteria
	        	  </a>	       
		        </div>
		        <div class="panel-body">
			      <div id="collapseDepositCriteria" class="panel-collapse collapse in">
			        <ul>
			        <li>UK Domain: &nbsp; @target.field_uk_domain</li>
			        <li>UK Hosting: &nbsp; @target.field_uk_hosting</li>
			        <li>UK Geo IP: &nbsp; @target.field_uk_geoip</li>
			        <li>UK Postal Address: &nbsp; @target.field_uk_postal_address</li>
			        <li>Postal Address URL: &nbsp; @target.field_uk_postal_address_url		        
			        <li>Via Correspondence: &nbsp; @target.field_via_correspondence</li>
			        <li>Notes: &nbsp; @target.field_notes</li>
			        <li>Professional Judgement: &nbsp; @target.field_professional_judgement</li>
			        <li>Special Dispensation: &nbsp; @target.field_special_dispensation</li>
			        </ul>
			      </div>
			    </div>  
		      </div>
	      </div>
		
    </article-->  
    
    <article class="targetdetails">
      <div class="panel panel-default" id="forms">
       <div class="panel-heading">
        <!--h3 class="panel-title">Basic Information</h3-->
       </div>      
       <div class="panel-body">
        <form>
          <fieldset>
          	<input type="hidden" name="nid" value="@target.nid">
          	<input type="hidden" name="user" value="@user.url">
            
			<div class="bs-example bs-example-tabs">
		      <ul id="myTab" class="nav nav-tabs">
		        <li class="active"><a href="#basicinformation" data-toggle="tab">Basic information</a></li>
		        <li class=""><a href="#metadata" data-toggle="tab">Metadata</a></li>
		        <li class=""><a href="#crawlpermission" data-toggle="tab">Crawl permission</a></li>
		        <li class=""><a href="#crawlpolicy" data-toggle="tab">Crawl policy</a></li>
		      </ul>
		       <div id="myTabContent" class="tab-content">
			        <div class="tab-pane fade active in" id="basicinformation">
			            <div class="container">
			            	<div class="row">
			              		<label for="inputTitle">Title: @target.title (@target.nid)</label>
							</div>
			            </div>
			            <div class="container">
			            	<div class="row">
			            	    @if(Target.isInScope(target.field_url)) {
			              			<label for="inputUrls">URL(s): @target.field_url <font color="green">in scope</font></label>
			              		} else {
			              			<label for="inputUrls">URL(s): @target.field_url <font color="red">not in scope</font></label>
			              		}
							</div>
			            </div>
			            <div class="container">
						   <div class="row">
				                <label>QA Status: @target.status</label>
						  	</div>
						</div>
			            <div class="container">
			            	<div class="row">
				           		<label>Live Site Status: @target.field_live_site_status</label>
				           	</div>
					  	</div>		
					  	<div class="container">
					  		<div class="row">
						    	<label>Key Site: @target.field_key_site</label>
						    </div>
			            </div>
			            <div class="container">
			            	<div class="row">
			              		<label for="inputWCT">WCT ID: </label><br>
			              		<label for="inputSPT">SPT ID: </label>
							</div>
			            </div> 
			            <div class="container">
			            	<div class="row">
			               		<label for="notes">Notes: </label>						                        								
							</div>
						</div>		            		                 				  						  
			        </div>
			        <div class="tab-pane fade" id="metadata">
			            <div class="form-group">
				             <div class="container">
					              <label for="inputDescription">Description: </label>
				                  <label>Subject: @target.field_subject</label>
							</div>
				            <div class="container">
				                  <br><label>Suggested Collections: </label><br>
								  <select id="mySel">
						                <option>- None -</option>
						                @for(collection <- DCollection.findAll()) {
						                <option>@collection.title</option>
						                }
								  </select>
								  <br>
								  <h5>Special collections that you think this web site should appear in.</h5>				  
							</div>
				             <div class="container">
				                  <label>Nominating Organisation: </label><br>
								  <select name="organisation" id="mySel">
						                <option>- None -</option>
						                @for(organisation <- Organisation.findAll()) {
							                @if(organisation.title.equals(Organisation.findByUrl(target.field_nominating_organisation).title)) {
								                <option selected>@organisation.title</option>
								            } else {
								                <option>@organisation.title</option>
											}					            
						                }
								  </select>
								  <br>
								  <h5>The organisation that nominated this web site. Used to track down further information if the original user cannot be contacted.</h5>				  
							</div>
			            </div>                        
			        </div>
			        <div class="tab-pane fade" id="crawlpermission">
			            <div class="form-group">
							<label for="edit-field-license-und">License</label><br>
							<select multiple="multiple" name="field_license" id="edit-field-license" class="form-select">
							 	<option value="_none">- None -</option>
							    @for(taxonomy <- Targets.getLicense()) {
							 	<option>@taxonomy.name</option>
							    }	
							</select>
							<div class="description">The license terms under which this site should be archived and made available.</div>
							<label>Legal Deposit Criteria</label>
							<div class="fieldset-wrapper">
				 				<input disabled type="checkbox" id="edit-field-uk-hosting" name="field_uk_hosting" value="1" class="form-checkbox" />  
				 				<label class="option" for="edit-field-uk-hosting-und">UK Hosting </label>
				 			</div>
							<div class="description">The domain is hosted in the UK.</div>
							<div class="form-item form-type-checkbox form-item-field-uk-postal-address">
				 				<input disabled type="checkbox" id="edit-field-uk-postal-address" name="field_uk_postal_address" value="1" />  
				 				<label class="option" for="edit-field-uk-postal-address-und">UK Postal Address </label>
				 			</div>
							<div class="description">The 'about us' or other contact page contains a UK address for a significant part of the organisation (e.g. it is not just a PO box).</div>
							<div>
				  				<label for="edit-field-uk-postal-address-url-und-0">Postal Address URL </label>
				 				<div>
				  				<label class="element-invisible" for="edit-field-uk-postal-address-url-und-0-url">URL </label>
				 				<input disabled type="text" name="field_uk_postal_address_url" value="" size="60" maxlength="2048" class="form-text" />
								</div>
								<div class="description">The URL on the site that contains the postal address used to determine that the site is in the UK.</div>
							</div>
							<div>
				 				<input disabled type="checkbox" name="field_via_correspondence" value="1" class="form-checkbox" />  
				 				<label class="option" for="edit-field-via-correspondence-und">Via Correspondence </label>
								<div class="description">Previous correspondence with the web site owner by a Curator contains evidence of a UK address.</div>
							</div>
							<div>
				  				<label>Notes</label>
					 			<div class="form-textarea-wrapper resizable">
					 				<textarea disabled name="body" cols="100" rows="1"></textarea>
								</div>
								<div class="description">Any relevant notes, e.g. a more detailed description of this URL or set of URLs.</div>
							</div>
							<div>
				 				<input disabled type="checkbox" name="field_professional_judgement" value="1" class="form-checkbox" />  
				 				<label class="option" for="edit-field-professional-judgement-und">Professional Judgement </label>
								<div class="description">In your professional judgement, does this site qualify as a UK Publication under the terms of the Legal Deposit Legislation. Please provide details of evidence used in the box below.</div>
							</div>
							<div>
				  				<label>Professional Judgement Explanation</label>
				 				<div class="form-textarea-wrapper resizable">
				 					<textarea name="field_professional_judgement_exp" cols="100" rows="1"></textarea>
				 				</div>
								<div class="description">Please describe the rational behind this decision, indicating any evidence used.</div>
							</div>
							<div>
				 				<input disabled type="checkbox" name="field_special_dispensation" value="1" class="form-checkbox" />  
				 				<label class="option" for="edit-field-special-dispensation-und">Special Dispensation </label>
								<div class="description">Tick this box to indicate that, although it falls under none of the other categories, special dispensation has been given to download this URL. Currently, this is allowed under limited circumstances in order to explore the process around archiving social media relating to UK organisations and individuals. </div>
							</div>
							<div>
							    <label for="edit-field-special-dispensation-reaso-und-0-value">Special Dispensation Reason </label>
					 			<div class="form-textarea-wrapper resizable">
					 				<textarea name="field_special_dispensation_reaso" cols="100" rows="1"></textarea></div>
								<div class="description">If you have selected Special Dispensation as the reason, you must use this field to provide details of who has authorised this decision and why.</div>
							</div>
							<div>
				 				<input disabled type="checkbox" name="field_no_ld_criteria_met" value="1" class="form-checkbox" />  
				 				<label class="option" for="edit-field-no-ld-criteria-met-und">No LD Criteria Met </label>
								<div class="description">Use this to indicate that no LD criteria apply, and so this site cannot be archived under Legal Deposit.</div>
							</div>      			            
				        </div>
			        </div>
			        <div class="tab-pane fade" id="crawlpolicy">
			            <div class="form-group">
					         <div class="container">
								  <label>Scope<font color="red">*</font></label><br>								  
								  <select id="mySel">
						                <option value="resource">Just this URL.</option>
						                <option value="plus1">This URL plus any directly linked resources.</option>
						                <option value="root" selected="selected">All URLs that start like this.</option>
						                <option value="subdomains">All URLs that match match this host or any subdomains.</option>
								  </select>
								  <br>
								  <h5>Select the scope of the crawl around this URL. In general, when nominating a site for crawling, you should specify the homepage and say 'All URLs that start like this'. If you wish to include all subdomains (e.g. example.co.uk but also anything like www.example.co.uk, images.example.co.uk, etc.) then select the 'any subdomains' option.</h5>				  
							  </div>
				              <div class="container">
								<div class="row">
								    <label>Depth<font color="red">*</font></label><br>								  
							  		<label class="radio-inline">
							          <input disabled name="radioGroup" id="radio1" value="Capped (small - 500MB)" type="radio"> Capped (small - 500MB) 
							        </label>
							        <label class="radio-inline">
							          <input disabled name="radioGroup" id="radio2" value="Capped (large - 2GB)" type="radio"> Capped (large - 2GB)
							        </label>
							        <label class="radio-inline">
							          <input disabled name="radioGroup" id="radio3" value="Uncapped" type="radio"> Uncapped
							        </label>			      
							  	</div>
							  	</div>
					            <div class="checkbox">
					              <label><input disabled type="checkbox">Ignore Robots.txt</label>
					            </div>
					            <br>Should we ignore Robots.txt while crawling this site? Note that although this may lead to us exploring more crawler traps, this does not present much of a problem to our crawling systems.
				 				<br><label for="edit-field-crawl-frequency-und">Crawl Frequency <span class="form-required" title="This field is required."><font color="red">*</font></span></label><br>
				 				<select id="edit-field-crawl-frequency-und" name="field_crawl_frequency" class="form-select required">
				 					<option value="domaincrawl" selected="selected">Domain Crawl Only</option>
				 					<option value="annual">Annually</option>
				 					<option value="sixmonthly">Six-monthly</option>
				 					<option value="quarterly">Quarterly</option>
				 					<option value="monthly">Monthly</option>
				 					<option value="Monthly">Old-Monthly-DO-NOT-USE</option>
				 					<option value="weekly">Weekly</option>
				 					<option value="daily">Daily</option>
				 				</select>
								<div class="description">How often should this site be archived?</div>
					        </div>    
				        </div>
			        </div>
            </div>
	        <div id="revisionArea" class="revision">
		       <hr>
              <div class="container">
				<div class="row">		       
	               <label>Revision log message: @target.revision</label>
				</div>
			</div>
          </fieldset>
        </form>
       </div>
      </div>
    </article>
    
   		       <div class="panel-group" id="accordion">
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">
		            	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseRevisions" style="color:#fff;">
		            		Target revisions
		            	</a>
		            </div>
				    <div id="collapseRevisions" class="panel-collapse collapse">
			            @for(prevTarget <- Target.findRevisions(target.url)) {
			            <div class="panel-footer">
			            	<a class="brand" href="@routes.TargetEdit.view(prevTarget.url)">
					            	(@prevTarget.nid) &nbsp; @prevTarget.revision</a>
			            </div>
			            }
			          </div>
		          </div>
	          </div>
    
   		       <div class="panel-group" id="accordion">
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">
		            	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseInstances" style="color:#fff;">
		            		Target instances
		            	</a>
		            </div>
				    <div id="collapseInstances" class="panel-collapse collapse">
			            <div class="panel-footer">
					        <a class="brand" href="opera.bl.uk:/8080/wayback/*@target.field_url">wayback-crawl</a>
			            </div>
			            <div class="panel-footer">
					        <a class="brand" href="http://www.webarchive.org.uk/mementos/search/@target.field_url">mementos-crawl</a>
			            </div>
			            <div class="panel-footer">
		                  	<a class="brand" href="http://www.webarchive.org.uk/bluebox/search.jsf?url= http://@target.field_url">archival</a>
			            </div>
			            <div class="panel-footer">
		                  	<a class="brand" href="@target.field_url">live</a>
			            </div>
			          </div>
		          </div>
	          </div>
    
      
}
