@(cp: CrawlPermission, enabled: Boolean)


@disabler() = @{
	if( ! enabled ) { "disabled" }
}


<script type="text/javascript" src="@routes.LicenseController.messagesJs()"></script>
<script src="@routes.Assets.at("javascripts/i18n.js")" type="text/javascript"></script>
<script>
        i18n.config.languages = window.Messages.messages;
        i18n.config.defaultI18nCode = '@lang().code()';
        i18n.config.selectLanguageControlSelector = '#languageGroup :input';
        /* Need a custom implementation of this function to toggle the Bootstrap button */
        i18n.config.showSelectedLanguageFn = function(i18nCode){
            $('[data-i18n-code=\'' + i18nCode + '\']').closest('.btn').button('toggle');
        };
        i18n.initModule();
</script>


<!-- 
	<div class="padding-20">
		<div class="alert alert-info">
			You have reached this page because your website has been selected by the British Library to be included in its Web Archive. If you are happy for your site to be archived, please complete the Licence form below.<br><br>
			If you are not the sole owner of copyright (and other rights) in the content of your site, please ensure you have cleared the permissions with other contributors to your site. It should be noted that the British Library reserves the right to take down any material from the archived site which, in its reasonable opinion either infringes copyright or any other intellectual property right or is likely to be illegal.<br><br>
			We select and archive sites to represent aspects of UK documentary heritage and as a result, they will remain available to researchers in the future. The British Library works closely with leading UK institutions to collect and permanently preserve the UK web, and our archive can be seen at www.webarchive.org.uk.<br><br>
			For more information about copyright and how your archived website will be made available, please see the FAQs. Alternatively, if you have any queries or need further information, please do not hesitate to contact us. 
		</div>
	</div>
 -->

	@helper.form(action=routes.LicenseController.submit) {
		@warningmessage(flash)            	
   		<input type="hidden" name="token" value="@cp.token">
   		        	
		<div id="myTabContent" class="tab-content">
			<div class="tab-pane padding-20 fade active in" id="basicinformation">
                <div id="languageGroup" class="btn-group pull-right" data-toggle="buttons">
                    <label class="btn btn-primary">
                        <input type="radio" name="language" id="languageCymraeg" data-i18n-code="cy">Cymraeg
                    </label>
                    <label class="btn btn-primary">
                        <input type="radio" name="language" id="languageEnglish" data-i18n-code="en">English
                    </label>
                </div>

                <div class="padding-20">
					<h2><font id="BLlicence" data-message-key="license.ldukwa2016.webarchiveaccesslicense" style="color: green"></font></h2>
					<p data-message-html-key="license.ldukwa2016.licensegrantparagraph"></p>
					<p data-message-html-key="form.markedfieldscompulsory.html"></p>
				</div>		     	
	   
	    		<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label for="name" class="col-sm-6 control-label"><span data-message-key="license.ldukwa2016.titleofwebsite"></span> <font color="red">*</font></label>
						    <div class="col-sm-6">
				              <input class="form-control" name="name" id="name" placeholder="London Business Forum" value="@TargetController.getTitle(cp.target.id)" type="text" @disabler>
							</div>
						</div>
					</div>
		     	</div>

	    		<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label"><span data-message-key="license.ldukwa2016.webaddress"></span> <font color="red">*</font></label>
						    <div class="col-sm-6">
								<input class="form-control" name="target" value="@cp.target.primaryUrl" placeholder="http://www.londonbusinessforum.com/" type="text" @disabler>
							</div>
						</div>
					</div>
		     	</div>

	    		<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label" data-message-key="license.ldukwa2016.licensegrantedby"></label>
						</div>
					</div>
		     	</div>	     	

                <div class="row padding-10">
                    <div class="col-md-12 col-xs-12 col-sm-12">
                        <div class="form-group">
                            <label class="col-sm-6 control-label"><span data-message-key="license.ldukwa2016.name"></span> <font color="red">*</font></label>
                            <div class="col-sm-6">
                                <input class="form-control" name="contactOrganisation" type="text" value="@cp.contactPerson.contactOrganisation" @disabler>
                            </div>
                        </div>
                    </div>
                </div>

	    		<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label"><span data-message-key="license.ldukwa2016.contactname"></span> <font color="red">*</font></label>
						    <div class="col-sm-6">
								<input class="form-control" name="contactPerson" type="text" value="@cp.contactPerson.name" @disabler>
							</div>
						</div>
					</div>
		     	</div>

	    		<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label"><span data-message-key="license.ldukwa2016.position"></span> <font color="red">*</font></label>
						    <div class="col-sm-6">
								<input class="form-control" name="position" type="text" value="@cp.contactPerson.position" @disabler>
							</div>
						</div>
					</div>
		     	</div>

	    		<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label"><span data-message-key="license.ldukwa2016.email"></span> <font color="red">*</font></label>
						    <div class="col-sm-6">
								<input class="form-control" name="email" type="text" value="@cp.contactPerson.email" @disabler>
							</div>
						</div>
					</div>
		     	</div>

	    		<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label" data-message-key="license.ldukwa2016.postaladdress"></label>
						    <div class="col-sm-6">
								<input class="form-control" name="postalAddress" type="text" value="@cp.contactPerson.postalAddress" @disabler>
							</div>
						</div>
					</div>
		     	</div>

	    		<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label" data-message-key="license.ldukwa2016.phone"></label>
						    <div class="col-sm-6">
								<input class="form-control" name="phone" type="text" value="@cp.contactPerson.phone" @disabler>
							</div>
						</div>
					</div>
		     	</div>

				<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-12 control-label" data-message-key="license.ldukwa2016.anyotherinformation"></label>
						    <div class="col-sm-12">
		 						<textarea name="description" cols="100" rows="2" class="form-control" @disabler>@cp.description</textarea>
							</div>
						</div>
					</div>
		     	</div>	

		     	<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label"><span data-message-key="license.ldukwa2016.thirdpartycontent"></span> <font color="red">*</font></label>
				    		<div class="row padding-20">
					     		<div class="col-md-12 col-xs-12 col-sm-12">
									<div class="form-group" data-message-key="license.ldukwa2016.thirdpartycontent.caption">
										<font color="red">*</font>
									</div>
								</div>
					     	</div>	 
							 
						    <div class="col-sm-6">
								<label class="radio-inline">
   						            <input name="content" id="radio1" value="1" type="radio"
   						             @if( Boolean.TRUE.equals(cp.thirdPartyContent) ) { checked }@disabler>
                                    <span data-message-key="license.ldukwa2016.thirdpartycontent.yes"></span>
								</label>
								<label class="radio-inline">
							        <input name="content" id="radio2" value="2" type="radio"
							         @if( Boolean.FALSE.equals(cp.thirdPartyContent) ) { checked }@disabler>
                                    <span data-message-key="license.ldukwa2016.thirdpartycontent.no"></span>
                                </label>
							</div>
						</div>
					</div>
		     	</div>	     
	
	    		<div class="row padding-20">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group" data-message-key="license.ldukwa2016.confirmauthorisedparagraph">
						</div>
					</div>
		     	</div>	 
		     	
		     	<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label"><span data-message-key="license.ldukwa2016.agree"></span> <font color="red">*</font> <span data-message-key="license.ldukwa2016.agree.yes"></span></label>
						    <div class="col-sm-6">
				                <input type="checkbox" name="agree" @if( Boolean.TRUE.equals(cp.agree) ) { checked } @disabler/>
							</div>
						</div>
					</div>
		     	</div>	     

				<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
							<label class="col-sm-6 control-label" data-message-key="license.ldukwa2016.date"></label>
						    <div class="col-sm-6">
						    @if( cp.isCompleted() ) {
                                <input type="text" name="log-date" class="form-control" id="log-date" value="@cp.grantedAt" readonly/>
                            } else {
                                <input type="text" name="log-date" class="form-control" id="log-date" value="@LicenseController.getCurrentDate()" readonly/>
                            }
	                		</div>
						</div>
					</div>
		     	</div>	
		     	
                <div class="row padding-10" style="display: none;">
                    <div class="col-md-12 col-xs-12 col-sm-12">
                        <div class="form-group">
                            <label class="col-sm-6 control-label">Licence:</label>
                            <div class="col-sm-6">
                            @if( cp.getLicense() != null || cp.getLicense().name == null ) {
                                <input class="form-control" name="license" value="@cp.getLicense().name" type="text" readonly>
                            } else {
                                <b>WARNING! Licence is unset (i.e. set to NULL for this crawl permission)</b>
                            }
                            </div>
                        </div>
                    </div>
                </div>
                
		     	<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
				    		<div class="row padding-10">
					     		<div class="col-md-12 col-xs-12 col-sm-12">
									<div class="form-group" data-message-key="license.ldukwa2016.allowpublicity">
										<font color="red">*</font>
									</div>
								</div>
					     	</div>	 
							 
						    <div class="col-sm-6">
								<label class="radio-inline">
   						            <input name="publish" id="radio1" value="1" type="radio"
   						              @if( Boolean.TRUE.equals(cp.publish) ) { checked }@disabler>
                                    <span data-message-key="license.ldukwa2016.allowpublicity.yes"></span>
								</label>
								<label class="radio-inline">
							        <input name="publish" id="radio2" value="2" type="radio"
							          @if( Boolean.FALSE.equals(cp.publish) ) { checked }@disabler>
                                    <span data-message-key="license.ldukwa2016.allowpublicity.no"></span>
								</label>
							</div>
						</div>
					</div>
		     	</div>	     
	
        <div class="row padding-10 pull-right">
            <div class="col-md-12 col-xs-12 col-sm-12">
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary" name="action" value="submit" id="submit" data-message-key="form.submit" @disabler></button>
               </div>
            </div>
        </div>
        
	    		<div class="row padding-10">
		     		<div class="col-md-12 col-xs-12 col-sm-12">
						<div class="form-group">
						    <sup>1</sup> <span data-message-key="license.ldukwa2016.legaldepositlibrariesfootnote"></span>
						</div>
					</div>
		     	</div>	 							 
		     	
			</div>		     		        
		</div>
                        
	}


