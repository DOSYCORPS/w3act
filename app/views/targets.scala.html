@(title: String, user: User, targets: List[Target], curators: List[User], organisations: List[Organisation], curatorUrl: String, organisationUrl: String, collectionCategoryUrl: String, subjectUrl: String, crawlFrequency: String, depth: String, scope: String)

@main(title, user){
    
    <h1>Targets overview</h1>
    
    <article class="targets">
		<div class="folder">
			<div class="row">
		        <div class="col-lg-2">	        
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">Filter by search term:
		            </div>
				      <div class="panel panel-default" id="forms">
				        <form class="filter-form" action="@routes.Targets.filterUrl()" method="POST">
				          <fieldset>
				            <div class="form-group">
				              <input class="form-control" id="inputName" name="filter" placeholder="Subject" type="text">
				            </div>
				            <button type="submit" class="btn btn-default">Search</button>
				          </fieldset>
				        </form>
				        <hr>
				      </div>
		          </div>
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">Filter by subject:
		            </div>
		            @for(subjecttarget <- Targets.getSubjects()) {
		            <div class="panel-footer">@subjecttarget.field_subject
		            </div>
		            }
		          </div>
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">Filter by crawl frequency:
		            </div>
		            @for(scopetarget <- Targets.getCrawlFrequency()) {
		            <div class="panel-footer">@scopetarget.field_crawl_frequency
		            </div>
		            }
		          </div>
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">Filter by depth:
		            </div>
		            @for(scopetarget <- Targets.getDepth()) {
		            <div class="panel-footer">@scopetarget.field_depth
		            </div>
		            }
		          </div>
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">Filter by license:
		            </div>
		            @for(taxonomy <- Targets.getLicense()) {
		            <div class="panel-footer">@taxonomy.name
		            </div>
		            }
		          </div>
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">Filter by scope:
		            </div>
		            @for(scopetarget <- Targets.getScope()) {
		            <div class="panel-footer">@scopetarget.field_scope
		            </div>
		            }
		          </div>
		        </div>
		        <div class="col-lg-6">
					<ul class="list">
					<script >
							$(function() {
							$("table#targetstable").tablesorter({ sortList: [[1,0]] });
							});
					</script>
					<table id="targetstable" class="tablesorter table table-striped table-bordered table-condensed zebra-striped">
		              <thead>
		                <tr>
		                  <!--<th>#</th>-->
		                  <th>Target name</th>
		                  <th>Target URL</th>
		                </tr>
		              </thead>
		              <tbody>
		              	@targets.map { target =>		              
		                <tr>
		                  <!--<td>@target.nid</td>-->
                  		  @if(target.url != null && target.title != null) {
		                  	<td><a href="@routes.TargetEdit.edit(target.url)">
		                  		@target.title</a></td>
		                  } else {
		                    <td></td>
		                  }		                  
		                  <!--<td><a href="@target.url">@target.title</a></td>-->
		                  <td><a class="brand" href="@target.get_field_list_as_str("field_url")">@target.get_field_list_as_str("field_url")</a></td>
		                </tr>
		                }
		              </tbody>
		            </table>
		          <div class="row">
			        <div class="col-lg-6">
			          <div class="panel panel-default" id="pagination">
			            <div class="panel-heading">Pagination
			            </div>
			            <ul class="pagination" style="margin-right: 10px;">
			              <li>
			                <a href="#">Prev</a>
			              </li>
			              <li>
			                <a href="#">1</a>
			              </li>
			              <li>
			                <a href="#">2</a>
			              </li>
			              <li>
			                <a href="#">3</a>
			              </li>
			              <li>
			                <a href="#">4</a>
			              </li>
			              <li>
			                <a href="#">Next</a>
			              </li>
			            </ul>
			          </div>
		          </div>
		         </div>
		          	
		        </div>
		        <div class="col-lg-2">
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">Filter by curator:
		            </div>
		            @curators.map { curator =>	
		                @if(curatorUrl != null && !curatorUrl.equals("none")) {
				            <div class="panel-footer"><a class="brand" href="@routes.Targets.edit("none", organisationUrl, 
				            	collectionCategoryUrl, subjectUrl, crawlFrequency, depth, scope)">
				            	(-) </a> @curator.name &nbsp;(@curator.getTargetNumberByCuratorUrl())
				            </div>
						} else {		                
			                @if(curator.url != null) {       
					            <div class="panel-footer"><a class="brand" href="@routes.Targets.edit(curator.url, organisationUrl, 
					            	collectionCategoryUrl, subjectUrl, crawlFrequency, depth, scope)">
					            	@curator.name &nbsp;(@curator.getTargetNumberByCuratorUrl())</a>
					            </div>
				            } 
				        }
	                }
		          </div>
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">Filter by nominating organisation:
		            </div>
		            @organisations.map { organisation =>	
		                @if(organisationUrl != null && !organisationUrl.equals("none")) {
				            <div class="panel-footer"><a class="brand" href="@routes.Targets.edit(curatorUrl, "none", 
				            	collectionCategoryUrl, subjectUrl, crawlFrequency, depth, scope)">
				            	(-) </a> @organisation.title &nbsp;(@organisation.getTargetNumberByOrganisationUrl())
				            </div>
						} else {		                
			            	@if(organisation.url != null) { 	              
					            <div class="panel-footer"><a class="brand" href="@routes.Targets.edit(curatorUrl, organisation.url, 
					            	collectionCategoryUrl, subjectUrl, crawlFrequency, depth, scope)">
					            	@organisation.title &nbsp;(@organisation.getTargetNumberByOrganisationUrl())</a>
					            </div>
			                }
		                }
		             }
		          </div>
		          <div class="panel panel-primary" id="panels">
		            <div class="panel-heading">Filter by collection categories:
		            </div>
		            @for(taxonomy <- Taxonomy.findAll()) {
		            <div class="panel-footer">@taxonomy.name
		            </div>
		            }
		          </div>
		          
		        </div>
		          
	          </div>
			</ul>
		</div>
    </article>
    
}

