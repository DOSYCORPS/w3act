@(title: String, user: User, targets: List[Target], curators: List[User], organisations: List[Organisation], curatorUrl: String, organisationUrl: String, collectionCategoryUrl: String, subjectUrl: String, crawlFrequency: String, depth: String, scope: String, offset: Int, limit: Int)

@main(title, user){
    
    <h1>Targets overview</h1>
    
    <article class="targets">
		<div class="folder">
			<div class="row">
		        <div class="col-lg-2">	        
		          <div class="panel panel-primary filter" id="panels">
		            <div class="panel-heading">Filter by search term:
		            </div>
				      <div id="forms">
				        <form class="filter-form" action="@routes.Targets.filterUrl()" method="POST">
				            <div class="form-group">
				              <input class="form-control" id="inputName" name="filter" type="text">
				            </div>
				            <button type="submit" class="btn btn-success">Search</button>
				        </form>
				        <hr>
				      </div>
		          </div>
          
		          <div class="panel-group" id="accordion">
			          <div class="panel panel-primary" id="panels">
				           <div class="panel-heading">
				               <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseCurator" style="color:#fff;">
				                   Filter by curator
				               </a>
				           </div>
				           <div id="collapseCurator" class="panel-collapse collapse">
				           @curators.map { curator =>	
				               @if(curatorUrl != null && !curatorUrl.equals("none")) {
						           <div class="panel-footer"><a class="brand" href="@routes.Targets.edit("none", organisationUrl, 
						               collectionCategoryUrl, subjectUrl, crawlFrequency, depth, scope, offset, limit)">
						            	   (-) </a> @curator.name &nbsp;(@curator.getTargetNumberByCuratorUrl())
						           </div>
							   } else {		                
					               @if(curator.url != null) {       
							           <div class="panel-footer"><a class="brand" href="@routes.Targets.edit(curator.url, organisationUrl, 
							               collectionCategoryUrl, subjectUrl, crawlFrequency, depth, scope, offset, limit)">
							               @curator.name &nbsp;(@curator.getTargetNumberByCuratorUrl())</a>
							           </div>
						           } 
						       }
			               }
		                   </div>
			          </div>
		          </div>
		          
		          <div class="panel-group" id="accordion">
			          <div class="panel panel-primary" id="panels">
			            <div class="panel-heading">
			                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOrganisation" style="color:#fff;">
			            		Filter by nominating organisation
			            	</a>
			            </div>
					    <div id="collapseOrganisation" class="panel-collapse collapse">
			            @organisations.map { organisation =>	
			                @if(organisationUrl != null && !organisationUrl.equals("none")) {
					            <div class="panel-footer"><a class="brand" href="@routes.Targets.edit(curatorUrl, "none", 
					            	collectionCategoryUrl, subjectUrl, crawlFrequency, depth, scope, offset, limit)">
					            	(-) </a> @organisation.title &nbsp;(@organisation.getTargetNumberByOrganisationUrl())
					            </div>
							} else {		                
				            	@if(organisation.url != null) { 	              
						            <div class="panel-footer"><a class="brand" href="@routes.Targets.edit(curatorUrl, organisation.url, 
						            	collectionCategoryUrl, subjectUrl, crawlFrequency, depth, scope, offset, limit)">
						            	@organisation.title &nbsp;(@organisation.getTargetNumberByOrganisationUrl())</a>
						            </div>
				                }
			                }
			             }
				          </div>
			          </div>
		          </div>
		          
		          <div class="panel-group" id="accordion">
			          <div class="panel panel-primary" id="panels">
			            <div class="panel-heading">
			            	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseCollectionCategories" style="color:#fff;">
			            		Filter by collection categories
			            	</a>
			            </div>
					    <div id="collapseCollectionCategories" class="panel-collapse collapse">
				            @for(taxonomy <- Taxonomy.findAll()) {
				            <div class="panel-footer">@taxonomy.name
				            </div>
				            }
				          </div>
			          </div>
		          </div>

		          <div class="panel-group" id="accordion">
			          <div class="panel panel-primary" id="panels">
				            <div class="panel-heading">
				            	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseSubjects" style="color:#fff;">
				            		Filter by subject
				            	</a>
				            </div>
							<div id="collapseSubjects" class="panel-collapse collapse">
				            @for(subjecttarget <- Targets.getSubjects()) {
				            <div class="panel-footer">@subjecttarget.field_subject
				            </div>
				            }
				          </div>
			          </div>
		          </div>

		          <div class="panel-group" id="accordion">
			          <div class="panel panel-primary" id="panels">
			            <div class="panel-heading">
			            	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseCrawlFrequency" style="color:#fff;">
			            		Filter by crawl frequency
			            	</a>
			            </div>
						<div id="collapseCrawlFrequency" class="panel-collapse collapse">
				            @for(scopetarget <- Targets.getCrawlFrequency()) {
				            <div class="panel-footer">@scopetarget.field_crawl_frequency
				            </div>
				            }
				          </div>
			          </div>
		          </div>
		          
		          <div class="panel-group" id="accordion">
			          <div class="panel panel-primary" id="panels">
			            <div class="panel-heading">
			            	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseDepth" style="color:#fff;">
			            		Filter by depth
			            	</a>
			            </div>
						<div id="collapseDepth" class="panel-collapse collapse">
				            @for(scopetarget <- Targets.getDepth()) {
				            <div class="panel-footer">@scopetarget.field_depth
				            </div>
				            }
				          </div>
			          </div>
		          </div>
		          
		          <div class="panel-group" id="accordion">
			          <div class="panel panel-primary" id="panels">
				            <div class="panel-heading">
				            	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseLicense" style="color:#fff;">
				            		Filter by license
				            	</a>
				            </div>
							<div id="collapseLicense" class="panel-collapse collapse">
				            @for(taxonomy <- Targets.getLicense()) {
				            <div class="panel-footer">@taxonomy.name
				            </div>
				            }
				          </div>
			          </div>
		          </div>
		          
		          <div class="panel-group" id="accordion">
			          <div class="panel panel-primary" id="panels">
				            <div class="panel-heading">
				            	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseScope" style="color:#fff;">
				            		Filter by scope
				            	</a>
				            </div>
							<div id="collapseScope" class="panel-collapse collapse">
					            @for(scopetarget <- Targets.getScope()) {
					            <div class="panel-footer">@scopetarget.field_scope
					            </div>
					            }
				          </div>
			          </div>
		          </div>
		        </div>
		        
		        <div class="col-lg-6">
					<script >
							$(function() {
							$("table#targetstable").tablesorter({ sortList: [[1,0]] });
							});
					</script>
					<table id="targetstable" class="tablesorter table table-striped table-bordered table-condensed zebra-striped">
		              <thead>
		                <tr>
		                  <!--<th>#</th>-->
		                  <th>Target name</th>
		                  <th>Target URL</th>
		                </tr>
		              </thead>
		              <tbody>
		              	@targets.map { target =>		              
		                <tr>
		                  <!--<td>@target.nid</td>-->
                  		  @if(target.url != null && target.title != null) {
		                  	<td><a href="@routes.TargetEdit.edit(target.url)">
		                  		@target.title</a></td>
		                  } else {
		                    <td></td>
		                  }		                  
		                  <!--<td><a href="@target.url">@target.title</a></td>-->
		                  <td><a class="brand" href="@target.get_field_list_as_str("field_url")">@target.get_field_list_as_str("field_url")</a></td>
		                </tr>
		                }
		              </tbody>
		            </table>
		          <div class="row">
			        <div class="col-lg-6">
			            <ul class="pagination" style="margin-right: 10px; width: 600px;">
			              <li>
			                <a href="#">Prev</a>
			              </li>
				          @for(i <- 0 until 9) {
			              <li>
			                <a class="brand" href="@routes.Targets.edit(curatorUrl, organisationUrl, collectionCategoryUrl, 
			                	subjectUrl, crawlFrequency, depth, scope, i, limit)">@i</a>
			              </li>
			              }
			              <!--li>
			                <a href="#">2</a>
			              </li>
			              <li>
			                <a href="#">3</a>
			              </li>
			              <li>
			                <a href="#">4</a>
			              </li-->
			              <li>
			                <a href="#">Next</a>
			              </li>
		          </div>
		         </div>		          	
		        </div>
	          </div>
			</ul>
		</div>
    </article>
    
}

